<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Analyzer</title>
    <link rel="stylesheet" href="/styles/styles.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="background"></div>
    <div class="container">
        <div class="nav-bar">
            <div class="nav-item" id="home">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 44V24H30V44M6 18L24 4L42 18V40C42 41.0609 41.5786 42.0783 40.8284 42.8284C40.0783 43.5786 39.0609 44 38 44H10C8.93913 44 7.92172 43.5786 7.17157 42.8284C6.42143 42.0783 6 41.0609 6 40V18Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    
                <span>Home</span>
            </div>
            <div class="nav-item" id="files">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M44 38C44 39.0609 43.5786 40.0783 42.8284 40.8284C42.0783 41.5786 41.0609 42 40 42H8C6.93913 42 5.92172 41.5786 5.17157 40.8284C4.42143 40.0783 4 39.0609 4 38V10C4 8.93913 4.42143 7.92172 5.17157 7.17157C5.92172 6.42143 6.93913 6 8 6H18L22 12H40C41.0609 12 42.0783 12.4214 42.8284 13.1716C43.5786 13.9217 44 14.9391 44 16V38Z" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    
                <span>Files</span>
            </div>
            <div class="nav-item" id="recent">
                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <rect width="50" height="50" fill="url(#pattern0_865_13)"/>
                    <defs>
                    <pattern id="pattern0_865_13" patternContentUnits="objectBoundingBox" width="1" height="1">
                    <use xlink:href="#image0_865_13" transform="scale(0.01)"/>
                    </pattern>
                    <image id="image0_865_13" width="100" height="100" xlink:href="data:image/png;base64,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"/>
                    </defs>
                    </svg>
                    
                <span>Recent</span>
            </div>
        </div>

        <div class="main-content">
            <div id="result-box" class="result-box" style="display: none;"></div>
            <div id="processing-text" style="display: none;">Processing</div>

            <h1 class="greeting">Hi there,<br> How can I assist you with your legal documents today?</h1>
            <div class="prompt-boxes">
                <div class="prompt-box">Analyze contract</div>
                <div class="prompt-box">Summarize document</div>
                <div class="prompt-box">Identify risks</div>
                <div class="prompt-box">Extract key information</div>
            </div>
            <div id="input" class="input-area">
                <textarea id="user-text" placeholder="Enter your text here..."></textarea>
                <div class="file-upload-container">

                    <input type="file" id="file" name="file" accept=".pdf,.txt,.doc,.docx" required>

             <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28 4H12C10.9391 4 9.92172 4.42143 9.17157 5.17157C8.42143 5.92172 8 6.93913 8 8V40C8 41.0609 8.42143 42.0783 9.17157 42.8284C9.92172 43.5786 10.9391 44 12 44H36C37.0609 44 38.0783 43.5786 38.8284 42.8284C39.5786 42.0783 40 41.0609 40 40V16M28 4L40 16M28 4V16H40M32 26H16M32 34H16M20 18H16" stroke="#1E1E1E" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

                    
                    <span id="file-name">No file chosen</span>
                </div>
            </div>
            
            <div id="loading-indicator" style="display:none;">Analyzing...</div>
            <div id="result"></div>
                
            
            
        </div>
    </div>
</body>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const fileUploadContainer = document.querySelector('.file-upload-container');
    const fileInput = document.getElementById('file');
    const fileNameLabel = document.getElementById('file-name');


    fileUploadContainer.addEventListener('click', function() {
        fileInput.click();
    });

    fileInput.addEventListener('change', function () {
        var fileName = this.files[0] ? this.files[0].name : 'No file chosen';
        fileNameLabel.textContent = fileName;

        document.getElementById('processing-text').style.display = 'block';
        document.getElementById('result-box').style.display = 'none';
        document.getElementById('input').style.display = 'none';


        fileUploadContainer.classList.add('processing');

        document.querySelector('.greeting').style.display = 'none';
        document.querySelector('.prompt-boxes').style.display = 'none';

        var formData = new FormData();
        formData.append('file', this.files[0]);

        fetch('/analyze', {
            method: 'POST',
            body: formData
        })
        .then(response => response.text()) 
        .then(data => {
            document.getElementById('processing-text').style.display = 'none';
            document.getElementById('result-box').style.display = 'block';
            document.getElementById('result-box').innerHTML = data;
            document.getElementById('input').style.display = 'block';
            fileUploadContainer.classList.remove('processing');
        })
        .catch(error => {
            document.getElementById('processing-text').style.display = 'none';
            fileUploadContainer.classList.remove('processing');
            console.error('Error:', error);
            alert('An error occurred while analyzing the document.');
        });
    });
});



</script>

</html>
